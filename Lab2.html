<!doctype HTML>
<html>
<script src="https://aframe.io/releases/0.9.1/aframe.min.js"></script>
<script src="https://raw.githack.com/jeromeetienne/AR.js/1.7.1/aframe/build/aframe-ar.js"></script>
<script src="https://github.com/mrdoob/three.js/tree/dev/build/three.js"></script>
<script src="https://github.com/mrdoob/three.js/tree/dev/build/three.min.js"></script>
 <body>
 <p>Hello</p>
 <p id="angleZ">Hello!</p>
 <p id="angleX">Hello!</p>
 <p id="angleY">Hello1</p>
<script>
	var renderer, scene, camera, stats,plane;
	var sphere, uniforms;
	//var displacement, noise;
	
	if (window.DeviceOrientationEvent) {
    window.addEventListener("deviceorientation", function(event) {
        // alpha: rotation around z-axis
        var rotateDegrees = event.alpha;
        // gamma: left to right
        var leftToRight = event.gamma;
        // beta: front back motion
        var frontToBack = event.beta;

        handleOrientationEvent(frontToBack, leftToRight, rotateDegrees);
    }, true);
}

		if ( WEBGL.isWebGLAvailable() === false ) {
			document.body.appendChild( WEBGL.getWebGLErrorMessage() );
		}
		
		//var clock = new THREE.Clock();
		function init() {
			camera = new THREE.PerspectiveCamera( 30, window.innerWidth / window.innerHeight, 1, 10000 );
			camera.position.z = 300;
			scene = new THREE.Scene();
			scene.background = new THREE.Color( 0xCCCCCC );
			
			
			//var sph = new THREE.SphereBufferGeometry( 0.5, 16, 8 );
	        
			
			var geometry = new THREE.TorusKnotBufferGeometry( 30, 8, 150, 28 );

			sphere = new THREE.Mesh( geometry, material );
			//CastShadows=true;
			scene.add( sphere );
			
			
			const planeMaterial = new THREE.MeshStandardMaterial( { color: 0x00FF00 } ); 
			const planeGeometry = new THREE.PlaneGeometry(200,200,50,50);
			plane = new THREE.Mesh(planeGeometry, planeMaterial);
			plane.receiveShadow = true;
			plane.position.z = -100;
			scene.add(plane);
			renderer = new THREE.WebGLRenderer();
			renderer.setPixelRatio( window.devicePixelRatio );
			renderer.setSize( window.innerWidth, window.innerHeight );
			renderer.shadowMap.enabled = true;
			renderer.shadowMap.type = THREE.PCFSoftShadowMap; // default THREE.PCFShadowMap
			
			var container = document.getElementById( 'container' );
			container.appendChild( renderer.domElement );
			stats = new Stats();
			container.appendChild( stats.dom );
			//
			window.addEventListener( 'resize', onWindowResize, false );
		}
		function onWindowResize() {
			camera.aspect = window.innerWidth / window.innerHeight;
			camera.updateProjectionMatrix();
			renderer.setSize( window.innerWidth, window.innerHeight );
		}
		function render() {
			//var time = Date.now() * 0.01;			
			//var delta = clock.getDelta();						
			renderer.render( scene, camera );
		}
var handleOrientationEvent = function(frontToBack, leftToRight, rotateDegrees) {
    // Сделайте что-нибудь необычное здесь
	//var alpha    = event.alpha;
	//var beta     = event.beta;
	//var gamma    = event.gamma;
	document.getElementById("angleZ").innerHTML ="alpha(Z) rotation:"+rotateDegrees;
	document.getElementById("angleX").innerHTML ="beta(X) rotation:"+frontToBack;
	document.getElementById("angleY").innerHTML ="gamma(Y) rotation:"+leftToRight;
	// usage:
	rotateObject(plane, 40, 30, 20);
};

function rotateObject(object, degreeX=0, degreeY=0, degreeZ=0) {
   object.rotateX(THREE.Math.degToRad(degreeX));
   object.rotateY(THREE.Math.degToRad(degreeY));
   object.rotateZ(THREE.Math.degToRad(degreeZ));
   init();
   render();
}


 
</script>
</body>
</html>